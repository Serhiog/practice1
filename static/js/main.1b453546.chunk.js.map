{"version":3,"sources":["components/header.jsx","components/section.jsx","store/action.js","api-actions.js","api.js","consts.js","hocs/withForm.js","utils.js","components/converter.jsx","components/history.jsx","components/footer.jsx","App.js","store/rootReducer.js","index.js"],"names":["Header","className","src","alt","width","height","href","Section","ActionType","ActionCreator","payload","type","fetchExchangeRate","fromCurrency","toCurrency","date","dispatch","from","to","fetch","then","response","json","getExchangeRate","catch","mapToStateProps","state","haveCurrency","wantCurrency","loading","error","exchangeRate","mapDispatchToProps","handleGetCurrencyChange","getISOFormattedDate","toISOString","split","extend","a","b","Object","assign","withForm","Component","connect","useState","haveValue","setHaveValue","wantValue","setWantValue","useEffect","newValue","toFixed","onHaveValueChange","value","onWantValueChange","handleHaveCurrencyChange","evt","target","handleWantCurrencyChange","handleDateChange","saveToHistory","d1","Date","d2","htmlFor","id","onChange","parseInt","isNaN","max","min","setDate","getDate","slice","onClick","history","handleClearHistory","length","map","item","i","dateTime","Footer","App","Fragment","initialState","store","createStore","action","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sLAsCeA,EApCA,WACb,OACE,wBAAQC,UAAU,SAAlB,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,yBAAf,UACE,qBAAKC,IAAI,kBAAkBC,IAAI,oDAAYF,UAAU,cAAcG,MAAO,GACxEC,OAAQ,KACV,mBAAGJ,UAAU,oBAAb,kEAEF,qBAAIA,UAAU,cAAd,UACE,oBAAIA,UAAU,mBAAd,SACE,mBAAGK,KAAK,YAAYL,UAAU,eAA9B,oDAEF,oBAAIA,UAAU,mBAAd,SACE,mBAAGK,KAAK,UAAUL,UAAU,eAA5B,iHAEF,oBAAIA,UAAU,mBAAd,SACE,mBAAGK,KAAK,aAAaL,UAAU,oCAA/B,qGAEF,oBAAIA,UAAU,mBAAd,SACE,mBAAGK,KAAK,YAAYL,UAAU,eAA9B,gEAEF,oBAAIA,UAAU,mBAAd,SACE,mBAAGK,KAAK,OAAOL,UAAU,eAAzB,yFAEF,oBAAIA,UAAU,mBAAd,SACE,mBAAGK,KAAK,SAASL,UAAU,mCAA3B,wICLGM,EArBC,WACd,OACE,yBAASN,UAAU,UAAnB,SACE,qBAAKA,UAAU,mBAAf,SACE,qBAAKA,UAAU,iBAAf,SACE,sBAAKA,UAAU,qBAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,oBAAIA,UAAU,iBAAd,+DACA,mBAAGA,UAAU,gBAAb,yIACA,mBAAGA,UAAU,kBAAkBK,KAAK,UAApC,kHAEF,qBAAKL,UAAU,6B,OCbdO,EACU,uBADVA,EAEU,uBAFVA,EAGU,uBAHVA,EAII,iBAJJA,EAKS,sBALTA,EAMO,oBANPA,EAOY,yBAPZA,EAQE,eAGFC,EACe,SAACC,GAAD,MAAc,CACtCC,KAAMH,EACNE,YAHSD,EAKe,SAACC,GAAD,MAAc,CACtCC,KAAMH,EACNE,YAPSD,EAaQ,SAACC,GAAD,MAAc,CAC/BC,KAAMH,EACNE,YAfSD,EAiBU,iBAAO,CAC1BE,KAAMH,IAlBGC,EAoBS,SAACC,GAAD,MAAc,CAChCC,KAAMH,EACNE,YAtBSD,EAwBM,iBAAO,CACtBE,KAAMH,IAzBGC,EA2BU,iBAAO,CAC1BE,KAAMH,IA5BGC,EA8BO,SAACC,GAAD,MAAc,CAC9BC,KAAMH,EACNE,Y,QCxCSE,EAAoB,SAACC,EAAcC,EAAYC,GAA3B,OAAoC,SAACC,GACpEA,EAASP,KCFoB,SAACI,EAAcC,EAAYC,GACxD,IAAME,EAAI,UAAMJ,EAAN,YAAsBC,GAC1BI,EAAE,UAAMJ,EAAN,YAAoBD,GAS5B,OAAOM,MAAM,8CAAD,OACsCF,EADtC,YAC8CC,EAD9C,iBACyDH,EADzD,iCCbM,yBDehBK,MAAK,SAACC,GACN,OAAOA,EAASC,UACfF,MAAK,SAACC,GAAc,IAAD,EACpB,OAAO,EAAP,iBACGJ,EAAOI,EAASJ,GAAMF,IADzB,cAEGG,EAAKG,EAASH,GAAIH,IAFrB,KDbFQ,CAAgBV,EAAcC,EAAYC,GACvCK,MAAK,SAACC,GACLL,EAASP,EAAiCY,OAE3CG,OAAM,WACLR,EAASP,U,QGgDTgB,EAAkB,SAACC,GAAD,MAAY,CAClCC,aAAcD,EAAMC,aACpBC,aAAcF,EAAME,aACpBb,KAAMW,EAAMX,KACZc,QAASH,EAAMG,QACfC,MAAOJ,EAAMI,MACbC,aAAcL,EAAMK,eAGhBC,EAAqB,SAAChB,GAAD,MAAe,CACxCiB,wBADwC,SAChBpB,EAAcC,EAAYC,GAChDC,EAASJ,EAAkBC,EAAcC,EAAYC,OCrElD,SAASmB,EAAoBnB,GAClC,OAAOA,EAAKoB,cAAcC,MAAnB,KAA8B,GAGhC,IAAMC,EAAS,SAACC,EAAGC,GACxB,OAAOC,OAAOC,OAAO,GAAIH,EAAGC,IC2HfG,EF3HE,SAACC,GAkDhB,OAAOC,YAAQnB,EAAiBO,EAAzBY,EAjDP,YAQI,IAPFX,EAOC,EAPDA,wBACAN,EAMC,EANDA,aACAC,EAKC,EALDA,aACAb,EAIC,EAJDA,KACAc,EAGC,EAHDA,QACAC,EAEC,EAFDA,MACAC,EACC,EADDA,aACC,EAWiCc,mBAAS,IAX1C,mBAWMC,EAXN,KAWiBC,EAXjB,OAYiCF,mBAAS,IAZ1C,mBAYMG,EAZN,KAYiBC,EAZjB,KA+BD,OAdAC,qBAAU,WACRjB,EAAwBN,EAAcC,EAAcb,KACnD,CAACY,EAAcC,EAAcK,EAAyBlB,IAEzDmC,qBAAU,WACR,IAAKrB,IAAYC,GAA0B,OAAjBC,GACN,OAAde,EAAoB,CACtB,IAAMK,EACJL,EAAYf,EAAa,GAAD,OAAIJ,EAAJ,YAAoBC,IAC9CqB,EAAaE,EAASC,QAAQ,OAGjC,CAACvB,EAASC,EAAOC,IAGlB,cAACY,EAAD,CACEG,UAAWA,EACXE,UAAWA,EACXK,kBArBsB,SAACC,GAAD,OAAWP,EAAaO,IAsB9CC,kBArBsB,SAACD,GAAD,OAAWL,EAAaK,SEmGvCZ,CAASE,aAhCA,SAAClB,GAAD,MAAY,CAClCC,aAAcD,EAAMC,aACpBC,aAAcF,EAAME,aACpBb,KAAMW,EAAMX,KACZc,QAASH,EAAMG,QACfC,MAAOJ,EAAMI,MACbC,aAAcL,EAAMK,iBAGK,SAACf,GAAD,MAAe,CACxCwC,yBADwC,SACfC,GACvBzC,EAASP,EAAuCgD,EAAIC,OAAOJ,SAE7DK,yBAJwC,SAIfF,GACvBzC,EAASP,EAAuCgD,EAAIC,OAAOJ,SAE7DrB,wBAPwC,SAOhBpB,EAAcC,EAAYC,GAChDC,EAASJ,EAAkBC,EAAcC,EAAYC,KAEvD6C,iBAVwC,SAUvBH,GACfzC,EAASP,EAA+BgD,EAAIC,OAAOJ,SAErDO,cAbwC,SAa1B9C,EAAMY,EAAcC,EAAckB,EAAWE,GACzD,IAAMtC,EAAU,CACdK,OACAE,KAAK,GAAD,OAAK6B,EAAL,YAAkBnB,GACtBT,GAAG,GAAD,OAAK8B,EAAL,YAAkBpB,IAEtBZ,EAASP,EAAgCC,QAIrBkC,EAvHN,SAAC,GAAuM,IAAtMjB,EAAqM,EAArMA,aAAcC,EAAuL,EAAvLA,aAAcb,EAAyK,EAAzKA,KAAMyC,EAAmK,EAAnKA,yBAA0BG,EAAyI,EAAzIA,yBAA0B5B,EAA+G,EAA/GA,aAAc6B,EAAiG,EAAjGA,iBAAkBC,EAA+E,EAA/EA,cAAef,EAAgE,EAAhEA,UAAWE,EAAqD,EAArDA,UAAWO,EAA0C,EAA1CA,kBAAmBF,EAAuB,EAAvBA,kBA2B5LS,EAAK,IAAIC,KACTC,EAAK,IAAID,KAEb,OACE,yBAAS9D,UAAU,YAAnB,SACE,sBAAKA,UAAU,qBAAf,UACE,oBAAIA,UAAU,mBAAd,mGACA,uBAAMA,UAAU,kBAAhB,UACE,sBAAKA,UAAU,iBAAf,UACE,uBAAOA,UAAU,sBAAsBgE,QAAQ,MAA/C,sEACA,uBAAOhE,UAAU,mBAAmBU,KAAK,SAASuD,GAAG,MAAMC,SAlCtC,SAACV,GAC9B,IAAMH,EAAQc,SAASX,EAAIC,OAAOJ,MAAO,IAEzC,GADAD,EAAkBI,EAAIC,OAAOJ,OACzBe,MAAMf,GACRC,EAAkB,QACb,CACL,IAAMJ,EAAWG,EAAQvB,EAAa,GAAD,OAAIJ,EAAJ,YAAoBC,IACzD2B,EAAkBJ,EAASC,QAAQ,MA2B+DE,MAAOR,IACnG,yBAAQ7C,UAAU,oBAAoBqD,MAAO3B,EAAcwC,SAAUX,EAArE,UACE,wBAAQvD,UAAU,oBAAoBqD,MAAM,MAA5C,iBACA,wBAAQrD,UAAU,oBAAoBqD,MAAM,MAA5C,iBACA,wBAAQrD,UAAU,oBAAoBqD,MAAM,MAA5C,iBACA,wBAAQrD,UAAU,oBAAoBqD,MAAM,MAA5C,iBACA,wBAAQrD,UAAU,oBAAoBqD,MAAM,MAA5C,oBAEF,sBAAMrD,UAAU,gCAElB,sBAAKA,UAAU,iBAAf,UACE,uBAAOA,UAAU,sBAAsBgE,QAAQ,MAA/C,mGACA,uBAAOhE,UAAU,mBAAmBU,KAAK,SAASuD,GAAG,MAAMC,SApCtC,SAACV,GAC9B,IAAMH,EAAQc,SAASX,EAAIC,OAAOJ,MAAO,IAEzC,GADAC,EAAkBE,EAAIC,OAAOJ,OACzBe,MAAMf,GACRD,EAAkB,QACb,CACL,IAAMF,EAAWG,EAAQvB,EAAa,GAAD,OAAIH,EAAJ,YAAoBD,IACzD0B,EAAkBF,EAASC,QAAQ,MA6B+DE,MAAON,IACnG,yBAAQ/C,UAAU,oBAAoBqD,MAAO1B,EAAcuC,SAAUR,EAArE,UACE,wBAAQ1D,UAAU,oBAAoBqD,MAAM,MAA5C,iBACA,wBAAQrD,UAAU,oBAAoBqD,MAAM,MAA5C,iBACA,wBAAQrD,UAAU,oBAAoBqD,MAAM,MAA5C,iBACA,wBAAQrD,UAAU,oBAAoBqD,MAAM,MAA5C,iBACA,wBAAQrD,UAAU,oBAAoBqD,MAAM,MAA5C,oBAEF,sBAAMrD,UAAU,gCAElB,sBAAKA,UAAU,kBAAf,UACE,sBAAKA,UAAU,kCAAf,UAAiD,uBAAOA,UAAU,mBAAmBU,KAAK,OAAO2C,MAAOvC,EAAMoD,SAAUP,EAAkBU,IAAKpC,EAAoB,IAAI6B,MAASQ,IAAK,IAAIR,KAAKC,EAAGQ,QAAQV,EAAGW,UAAY,IAAItC,cAAcuC,MAAM,EAAG,MACjP,sBAAMzE,UAAU,0BAClB,wBAAQA,UAAU,iBAAiBU,KAAK,SAASgE,QAtCjC,WACxBd,EAAc9C,EAAMY,EAAcC,EAAckB,EAAWE,IAqCnD,0ICxBGJ,eAXS,SAAClB,GAAD,MAAY,CAClCkD,QAASlD,EAAMkD,YAGU,SAAC5D,GAAD,MAAe,CACxC6D,mBADwC,WAEtC7D,EAASP,SAKEmC,EA1CC,SAAC,GAAmC,IAAlCgC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,mBACzB,OAAuB,IAAnBD,EAAQE,OACH,KAGP,yBAAS7E,UAAU,UAAnB,SACE,sBAAKA,UAAU,mBAAf,UACE,oBAAIA,UAAU,iBAAd,2HACA,oBAAIA,UAAU,gBAAd,SAEG2E,EAAQG,KAAI,SAACC,EAAMC,GAClB,OAAO,qBAAIhF,UAAU,gBAAd,UACL,sBAAMA,UAAU,gBAAgBiF,SAAUF,EAAKjE,KAA/C,SAAsDiE,EAAKjE,OAC3D,oBAAGd,UAAU,gBAAb,UAA6B,sBAAMA,UAAU,kBAAhB,SAAmC+E,EAAK/D,OAAY,sBAAMhB,UAAU,iBAAhB,SAAkC+E,EAAK9D,UAFhF+D,QAQ9C,wBAAQhF,UAAU,iBAAiB0E,QAASE,EAA5C,iHCgBOM,EAtCA,WACb,OACE,yBAASlF,UAAU,SAAnB,SACE,sBAAKA,UAAU,kBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,qBAAKC,IAAI,kBAAkBC,IAAI,oDAAYF,UAAU,cAAcG,MAAO,GACxEC,OAAQ,KACV,oBAAIJ,UAAU,gBAAd,+DACA,mBAAGA,UAAU,sBAAb,+ZAIF,qBAAIA,UAAU,eAAd,UACE,oBAAIA,UAAU,eAAd,SAA6B,mBAAGA,UAAU,oBAAoBK,KAAK,IAAtC,oDAC7B,oBAAIL,UAAU,eAAd,SAA6B,mBAAGA,UAAU,oBAAoBK,KAAK,IAAtC,iHAC7B,oBAAIL,UAAU,eAAd,SAA6B,mBAAGA,UAAU,oBAAoBK,KAAK,IAAtC,gEAC7B,oBAAIL,UAAU,eAAd,SAA6B,mBAAGA,UAAU,oBAAoBK,KAAK,IAAtC,4FAE/B,sBAAKL,UAAU,qBAAf,UACE,mBAAGK,KAAK,YAAYL,UAAU,uBAA9B,mBACA,mBAAGA,UAAU,0BAAb,iRAEF,sBAAKA,UAAU,oBAAf,UACE,mBAAGK,KAAK,uBAAuBL,UAAU,sBAAzC,6BACA,mBAAGA,UAAU,yBAAb,yMAEF,qBAAIA,UAAU,sBAAd,UACE,oBAAIA,UAAU,qBAAd,SAAmC,mBAAGA,UAAU,qBAAqBK,KAAK,IAAvC,SAA2C,sBAAML,UAAU,mBAC9F,oBAAIA,UAAU,qBAAd,SAAmC,mBAAGA,UAAU,qBAAqBK,KAAK,IAAvC,SAA2C,sBAAML,UAAU,sBAC9F,oBAAIA,UAAU,qBAAd,SAAmC,mBAAGA,UAAU,qBAAqBK,KAAK,IAAvC,SAA2C,sBAAML,UAAU,wBAC9F,oBAAIA,UAAU,qBAAd,SAAmC,mBAAGA,UAAU,qBAAqBK,KAAK,IAAvC,SAA2C,sBAAML,UAAU,iCCbzFmF,EAZH,WACV,OACE,eAAC,IAAMC,SAAP,WACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,Q,+BCVAC,EAAe,CACnBV,QAAS,GACTjD,aAAa,MACbC,aAAa,MACbb,KAAMmB,EAAoB,IAAI6B,MAC9BhC,aAAc,KACdF,SAAS,EACTC,OAAO,GCAT,IAAMyD,EAAQC,uBDGC,WAAoD,IAA/B9D,EAA8B,uDAAtB4D,EAAcG,EAAQ,uCAChE,OAAQA,EAAO9E,MACb,KAAKH,EACH,OAAO6B,EAAOX,EAAO,CACnBC,aAAc8D,EAAO/E,UAEzB,KAAKF,EACH,OAAO6B,EAAOX,EAAO,CACnBE,aAAc6D,EAAO/E,UAEzB,KAAKF,EACH,OAAO6B,EAAOX,EAAO,CACnBX,KAAM0E,EAAO/E,UAEjB,KAAKF,EACH,OAAO6B,EAAOX,EAAO,CACnBkD,QAAS,CAACa,EAAO/E,SAAR,mBAAoBgB,EAAMkD,UAASF,MAAM,EP5B1B,MO8B5B,KAAKlE,EACH,OAAO6B,EAAOX,EAAO,CACnBkD,QAAS,KAEb,KAAKpE,EACH,OAAO6B,EAAOX,EAAO,CACnBK,aAAc0D,EAAO/E,QACrBmB,SAAS,IAEb,KAAKrB,EACH,OAAO6B,EAAOX,EAAO,CACnBG,SAAS,EACTC,OAAO,IAEX,KAAKtB,EACH,OAAO6B,EAAOX,EAAO,CACnBG,SAAS,EACTC,OAAO,IAEX,QACE,OAAOJ,KCvCTgE,8BAAoBC,0BAAgBC,OAGxCC,IAASC,OACL,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUR,MAAOA,EAAjB,SACE,cAAC,EAAD,QAGJS,SAASC,eAAT,W","file":"static/js/main.1b453546.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Header = () => {\n  return (\n    <header className=\"header\">\n      <div className=\"header__inner\">\n        <div className=\"header__logo-container\">\n          <img src=\"../img/logo.svg\" alt=\"Лига БАНК\" className=\"header__img\" width={28}\n            height={25} />\n          <p className=\"header__logo-text\">ЛИГА Банк</p>\n        </div>\n        <ul className=\"header__nav\">\n          <li className=\"header__nav-item\">\n            <a href=\"/services\" className=\"header__link\">Услуги</a>\n          </li>\n          <li className=\"header__nav-item\">\n            <a href=\"/credit\" className=\"header__link\">Рассчитать кредит</a>\n          </li>\n          <li className=\"header__nav-item\">\n            <a href=\"/converter\" className=\"header__link header__link--active\">Конвертер валют</a>\n          </li>\n          <li className=\"header__nav-item\">\n            <a href=\"/contacts\" className=\"header__link\">Контакты</a>\n          </li>\n          <li className=\"header__nav-item\">\n            <a href=\"/ask\" className=\"header__link\">Задать вопрос</a>\n          </li>\n          <li className=\"header__nav-item\">\n            <a href=\"/login\" className=\"header__link header__link--login\">Войти в Интернет-банк</a>\n          </li>\n        </ul>\n\n      </div>\n    </header>\n  );\n};\n\n\nexport default Header;\n\n","import React from \"react\";\n\nconst Section = () => {\n  return (\n    <section className=\"section\">\n      <div className=\"section__wrapper\">\n        <div className=\"section__inner\">\n          <div className=\"section__container\">\n            <div className=\"section__left\">\n              <h1 className=\"section__title\">Лига Банк</h1>\n              <p className=\"section__text\">Кредиты на любой случай</p>\n              <a className=\"section__button\" href=\"/credit\">Рассчитать кредит</a>\n            </div>\n            <div className=\"section__right\">\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\n\nexport default Section;\n\n","export const ActionType = {\n  CHANGE_HAVE_CURRENCY: `CHANGE_HAVE_CURRENCY`,\n  CHANGE_WANT_CURRENCY: `CHANGE_WANT_CURRENCY`,\n  CHANGE_DATE_CURRENCY: `CHANGE_DATE_CURRENCY`,\n  CLEAR_CURRENCY: `CLEAR_CURRENCY`,\n  UPDATE_EXCHANE_RATE: `UPDATE_EXCHANE_RATE`,\n  GET_EXCHANGE_RATE: `GET_EXCHANGE_RATE`,\n  GET_EXCHANGE_RATE_FAIL: `GET_EXCHANGE_RATE_FAIL`,\n  SAVE_HISTORY: `SAVE_HISTORY`,\n};\n\nexport const ActionCreator = {\n  handleHaveCurrencyChange: (payload) => ({\n    type: ActionType.CHANGE_HAVE_CURRENCY,\n    payload,\n  }),\n  handleWantCurrencyChange: (payload) => ({\n    type: ActionType.CHANGE_WANT_CURRENCY,\n    payload,\n  }),\n  handleDateCurrencyChange: (payload) => ({\n    type: ActionType.CHANGE_DATE_CURRENCY,\n    payload,\n  }),\n  handleHistorySave: (payload) => ({\n    type: ActionType.SAVE_HISTORY,\n    payload,\n  }),\n  handleClearCurrency: () => ({\n    type: ActionType.CLEAR_CURRENCY,\n  }),\n  updateExchangeRate: (payload) => ({\n    type: ActionType.UPDATE_EXCHANE_RATE,\n    payload,\n  }),\n  getExchangeRate: () => ({\n    type: ActionType.GET_EXCHANGE_RATE,\n  }),\n  getExchangeRateFail: () => ({\n    type: ActionType.GET_EXCHANGE_RATE_FAIL,\n  }),\n  handleDateChange: (payload) => ({\n    type: ActionType.CHANGE_DATE_CURRENCY,\n    payload,\n  }),\n};\n","import {getExchangeRate} from \"./api\";\nimport {ActionCreator} from \"./store/action\";\n\nexport const fetchExchangeRate = (fromCurrency, toCurrency, date) => (dispatch) => {\n  dispatch(ActionCreator.getExchangeRate());\n  getExchangeRate(fromCurrency, toCurrency, date)\n    .then((response) => {\n      dispatch(ActionCreator.updateExchangeRate(response));\n    })\n    .catch(() => {\n      dispatch(ActionCreator.getExchangeRateFail());\n    });\n};\n","import {API_KEY} from \"./consts\";\r\n\r\nexport const getExchangeRate = (fromCurrency, toCurrency, date) => {\r\n  const from = `${fromCurrency}_${toCurrency}`;\r\n  const to = `${toCurrency}_${fromCurrency}`;\r\n\r\n  // return new Promise((resolve) => {\r\n  //     setTimeout(() => {\r\n  //       resolve({\r\n  //         [`${fromCurrency}_${toCurrency}`]: 47.935998,\r\n  //         [`${toCurrency}_${fromCurrency}`]: 0.020859,\r\n  //       });\r\n  //     }, 1000);\r\n  return fetch(\r\n      `https://free.currconv.com/api/v7/convert?q=${from},${to}&date=${date}&compact=ultra&apiKey=${API_KEY}`\r\n  ).then((response) => {\r\n    return response.json();\r\n  }).then((response) => {\r\n    return {\r\n      [from]: response[from][date],\r\n      [to]: response[to][date]\r\n    };\r\n  });\r\n};\r\n","export const API_KEY = `ceabbb534b6a6a303b6c`;\n\nexport const MAX_HISTORY_SIZE = 10;\n","import React, {useEffect, useState} from \"react\";\nimport {connect} from \"react-redux\";\nimport {fetchExchangeRate} from \"../api-actions\";\nimport PropTypes from \"prop-types\";\n\nconst withForm = (Component) => {\n  function FormWrapperComponent({\n    handleGetCurrencyChange,\n    haveCurrency,\n    wantCurrency,\n    date,\n    loading,\n    error,\n    exchangeRate,\n  }) {\n\n    FormWrapperComponent.propTypes = {\n      handleGetCurrencyChange: PropTypes.any,\n      haveCurrency: PropTypes.any,\n      wantCurrency: PropTypes.any,\n      date: PropTypes.any,\n      loading: PropTypes.any,\n      error: PropTypes.any,\n      exchangeRate: PropTypes.any,\n    };\n    const [haveValue, setHaveValue] = useState(``);\n    const [wantValue, setWantValue] = useState(``);\n\n    const onHaveValueChange = (value) => setHaveValue(value);\n    const onWantValueChange = (value) => setWantValue(value);\n\n    useEffect(() => {\n      handleGetCurrencyChange(haveCurrency, wantCurrency, date);\n    }, [haveCurrency, wantCurrency, handleGetCurrencyChange, date]);\n\n    useEffect(() => {\n      if (!loading && !error && exchangeRate !== null) {\n        if (haveValue !== null) {\n          const newValue =\n            haveValue * exchangeRate[`${haveCurrency}_${wantCurrency}`];\n          setWantValue(newValue.toFixed(2));\n        }\n      }\n    }, [loading, error, exchangeRate]);\n\n    return (\n      <Component\n        haveValue={haveValue}\n        wantValue={wantValue}\n        onHaveValueChange={onHaveValueChange}\n        onWantValueChange={onWantValueChange}\n      />\n    );\n  }\n\n  return connect(mapToStateProps, mapDispatchToProps)(FormWrapperComponent);\n};\n\nconst mapToStateProps = (state) => ({\n  haveCurrency: state.haveCurrency,\n  wantCurrency: state.wantCurrency,\n  date: state.date,\n  loading: state.loading,\n  error: state.error,\n  exchangeRate: state.exchangeRate,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleGetCurrencyChange(fromCurrency, toCurrency, date) {\n    dispatch(fetchExchangeRate(fromCurrency, toCurrency, date));\n  },\n});\n\nexport default withForm;\n","export function getISOFormattedDate(date) {\n  return date.toISOString().split(`T`)[0];\n}\n\nexport const extend = (a, b) => {\n  return Object.assign({}, a, b);\n};\n","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {ActionCreator} from \"../store/action\";\nimport {fetchExchangeRate} from \"../api-actions\";\nimport withForm from \"../hocs/withForm\";\nimport {getISOFormattedDate} from \"../utils\";\nimport PropTypes from \"prop-types\";\n\n\nconst Converter = ({haveCurrency, wantCurrency, date, handleHaveCurrencyChange, handleWantCurrencyChange, exchangeRate, handleDateChange, saveToHistory, haveValue, wantValue, onWantValueChange, onHaveValueChange}) => {\n\n\n  const handleHaveInputChange = ((evt) => {\n    const value = parseInt(evt.target.value, 10);\n    onHaveValueChange(evt.target.value);\n    if (isNaN(value)) {\n      onWantValueChange(``);\n    } else {\n      const newValue = value * exchangeRate[`${haveCurrency}_${wantCurrency}`];\n      onWantValueChange(newValue.toFixed(2));\n    }\n  });\n  const handleWantInputChange = ((evt) => {\n    const value = parseInt(evt.target.value, 10);\n    onWantValueChange(evt.target.value);\n    if (isNaN(value)) {\n      onHaveValueChange(``);\n    } else {\n      const newValue = value * exchangeRate[`${wantCurrency}_${haveCurrency}`];\n      onHaveValueChange(newValue.toFixed(2));\n    }\n  });\n\n  const handleHistorySave = () => {\n    saveToHistory(date, haveCurrency, wantCurrency, haveValue, wantValue);\n  };\n  let d1 = new Date();\n  let d2 = new Date();\n\n  return (\n    <section className=\"converter\">\n      <div className=\"converter__wrapper\">\n        <h2 className=\"converter__title\">Конвертер валют</h2>\n        <form className=\"converter__form\">\n          <div className=\"converter__got\">\n            <label className=\"converter__got-text\" htmlFor=\"got\">У меня есть</label>\n            <input className=\"converter__input\" type=\"number\" id=\"got\" onChange={handleHaveInputChange} value={haveValue} />\n            <select className=\"converter__select\" value={haveCurrency} onChange={handleHaveCurrencyChange}>\n              <option className=\"converter__option\" value=\"RUB\">RUB</option>\n              <option className=\"converter__option\" value=\"USD\">USD</option>\n              <option className=\"converter__option\" value=\"EUR\">EUR</option>\n              <option className=\"converter__option\" value=\"GBR\">GBR</option>\n              <option className=\"converter__option\" value=\"CNY\">CNY</option>\n            </select>\n            <span className=\"converter__check-box-got\"></span>\n          </div>\n          <div className=\"converter__get\">\n            <label className=\"converter__got-text\" htmlFor=\"get\">Хочу приобрести</label>\n            <input className=\"converter__input\" type=\"number\" id=\"get\" onChange={handleWantInputChange} value={wantValue} />\n            <select className=\"converter__select\" value={wantCurrency} onChange={handleWantCurrencyChange}>\n              <option className=\"converter__option\" value=\"RUB\">RUB</option>\n              <option className=\"converter__option\" value=\"USD\">USD</option>\n              <option className=\"converter__option\" value=\"EUR\">EUR</option>\n              <option className=\"converter__option\" value=\"GBR\">GBR</option>\n              <option className=\"converter__option\" value=\"CNY\">CNY</option>\n            </select>\n            <span className=\"converter__check-box-get\"></span>\n          </div>\n          <div className=\"converter__date\">\n            <div className=\"converter__date-input-container\"><input className=\"converter__input\" type=\"date\" value={date} onChange={handleDateChange} max={getISOFormattedDate(new Date())} min={new Date(d2.setDate(d1.getDate() - 7)).toISOString().slice(0, 10)} />\n              <span className=\"converter__cal-img\"></span></div>\n            <button className=\"converter__btn\" type=\"button\" onClick={handleHistorySave}>Сохранить результат</button>\n          </div>\n        </form>\n      </div>\n    </section>\n\n  );\n};\n\nConverter.propTypes = {\n  haveCurrency: PropTypes.string,\n  wantCurrency: PropTypes.string,\n  date: PropTypes.any,\n  handleHaveCurrencyChange: PropTypes.any,\n  handleWantCurrencyChange: PropTypes.any,\n  exchangeRate: PropTypes.any,\n  handleDateChange: PropTypes.any,\n  saveToHistory: PropTypes.any,\n  haveValue: PropTypes.any,\n  wantValue: PropTypes.any,\n  onWantValueChange: PropTypes.any,\n  onHaveValueChange: PropTypes.any,\n};\n\n\nconst mapToStateProps = (state) => ({\n  haveCurrency: state.haveCurrency,\n  wantCurrency: state.wantCurrency,\n  date: state.date,\n  loading: state.loading,\n  error: state.error,\n  exchangeRate: state.exchangeRate\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleHaveCurrencyChange(evt) {\n    dispatch(ActionCreator.handleHaveCurrencyChange(evt.target.value));\n  },\n  handleWantCurrencyChange(evt) {\n    dispatch(ActionCreator.handleWantCurrencyChange(evt.target.value));\n  },\n  handleGetCurrencyChange(fromCurrency, toCurrency, date) {\n    dispatch(fetchExchangeRate(fromCurrency, toCurrency, date));\n  },\n  handleDateChange(evt) {\n    dispatch(ActionCreator.handleDateChange(evt.target.value));\n  },\n  saveToHistory(date, haveCurrency, wantCurrency, haveValue, wantValue) {\n    const payload = {\n      date,\n      from: `${haveValue} ${haveCurrency}`,\n      to: `${wantValue} ${wantCurrency}`,\n    };\n    dispatch(ActionCreator.handleHistorySave(payload));\n  }\n});\n\nexport default withForm(connect(mapToStateProps, mapDispatchToProps)(Converter));\n","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {ActionCreator} from \"../store/action\";\nimport PropTypes from \"prop-types\";\n\nconst History = ({history, handleClearHistory}) => {\n  if (history.length === 0) {\n    return null;\n  }\n  return (\n    <section className=\"history\">\n      <div className=\"history__wrapper\">\n        <h3 className=\"history__title\">История конвертация</h3>\n        <ul className=\"history__list\">\n\n          {history.map((item, i) => {\n            return <li className=\"history__item\" key={i}>\n              <time className=\"history__date\" dateTime={item.date}>{item.date}</time>\n              <p className=\"history__info\"><span className=\"history__before\">{item.from}</span><span className=\"history__after\">{item.to}</span></p>\n            </li>;\n          })}\n\n\n        </ul>\n        <button className=\"history__clear\" onClick={handleClearHistory}>Очистить историю</button>\n      </div>\n    </section>\n  );\n};\n\nHistory.propTypes = {\n  history: PropTypes.any,\n  handleClearHistory: PropTypes.any,\n};\n\n\nconst mapToStateProps = (state) => ({\n  history: state.history\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleClearHistory() {\n    dispatch(ActionCreator.handleClearCurrency());\n  }\n});\n\n\nexport default connect(mapToStateProps, mapDispatchToProps)(History);\n","import React from \"react\";\n\nconst Footer = () => {\n  return (\n    <section className=\"footer\">\n      <div className=\"footer__wrapper\">\n        <div className=\"footer__logo\">\n          <img src=\"../img/logo.svg\" alt=\"Лига БАНК\" className=\"footer__img\" width={28}\n            height={25} />\n          <h3 className=\"footer__title\">ЛИГА Банк</h3>\n          <p className=\"footer__title-about\">150015, г. Москва, ул. Московская, д. 32\n                    Генеральная лицензия Банка России №1050\nⒸ Лига Банк, 2019</p>\n        </div>\n        <ul className=\"footer__list\">\n          <li className=\"footer__item\"><a className=\"footer__list-link\" href=\"#\">Услуги</a></li>\n          <li className=\"footer__item\"><a className=\"footer__list-link\" href=\"#\">Рассчитать кредит</a></li>\n          <li className=\"footer__item\"><a className=\"footer__list-link\" href=\"#\">Контакты</a></li>\n          <li className=\"footer__item\"><a className=\"footer__list-link\" href=\"#\">Задать вопрос</a></li>\n        </ul>\n        <div className=\"footer__short-call\">\n          <a href=\"tel: 0904\" className=\"footer__short-number\">*0904</a>\n          <p className=\"footer__short-call-info\">Бесплатно для абонентов МТС, Билайн, Мегафон, Теле2</p>\n        </div>\n        <div className=\"footer__free-call\">\n          <a href=\"tel: 8 800 111 22 33\" className=\"footer__free-number\">8 800 111 22 33</a>\n          <p className=\"footer__free-call-info\">Бесплатный для всех городов России</p>\n        </div>\n        <ul className=\"footer__media-links\">\n          <li className=\"footer__item-media\"><a className=\"footer__media-link\" href=\"#\"><span className=\"footer__fb\"></span></a></li>\n          <li className=\"footer__item-media\"><a className=\"footer__media-link\" href=\"#\"><span className=\"footer__insta\"></span></a></li>\n          <li className=\"footer__item-media\"><a className=\"footer__media-link\" href=\"#\"><span className=\"footer__twitter\"></span></a></li>\n          <li className=\"footer__item-media\"><a className=\"footer__media-link\" href=\"#\"><span className=\"footer__youtube\"></span></a></li>\n        </ul>\n      </div>\n    </section>\n  );\n};\n\n\nexport default Footer;\n\n","import React from \"react\";\nimport Header from \"./components/header\";\nimport Section from \"./components/section\";\nimport Converter from \"./components/converter\";\nimport History from \"./components/history\";\nimport Footer from \"./components/footer\";\n\nconst App = () => {\n  return (\n    <React.Fragment>\n      <Header />\n      <Section />\n      <Converter />\n      <History />\n      <Footer />\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","import {getISOFormattedDate, extend} from \"../utils\";\nimport {ActionType} from \"../store/action\";\nimport {MAX_HISTORY_SIZE} from \"../consts\";\n\nconst initialState = {\n  history: [],\n  haveCurrency: `RUB`,\n  wantCurrency: `USD`,\n  date: getISOFormattedDate(new Date()),\n  exchangeRate: null,\n  loading: false,\n  error: false,\n};\n\nexport default function rootReducer(state = initialState, action) {\n  switch (action.type) {\n    case ActionType.CHANGE_HAVE_CURRENCY:\n      return extend(state, {\n        haveCurrency: action.payload,\n      });\n    case ActionType.CHANGE_WANT_CURRENCY:\n      return extend(state, {\n        wantCurrency: action.payload,\n      });\n    case ActionType.CHANGE_DATE_CURRENCY:\n      return extend(state, {\n        date: action.payload,\n      });\n    case ActionType.SAVE_HISTORY:\n      return extend(state, {\n        history: [action.payload, ...state.history].slice(0, MAX_HISTORY_SIZE),\n      });\n    case ActionType.CLEAR_CURRENCY:\n      return extend(state, {\n        history: [],\n      });\n    case ActionType.UPDATE_EXCHANE_RATE:\n      return extend(state, {\n        exchangeRate: action.payload,\n        loading: false,\n      });\n    case ActionType.GET_EXCHANGE_RATE:\n      return extend(state, {\n        loading: true,\n        error: false,\n      });\n    case ActionType.GET_EXCHANGE_RATE_FAIL:\n      return extend(state, {\n        loading: false,\n        error: true,\n      });\n    default:\n      return state;\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./style.scss\";\nimport App from \"./App\";\nimport thunk from \"redux-thunk\";\nimport {createStore, applyMiddleware} from \"redux\";\nimport {composeWithDevTools} from \"redux-devtools-extension\";\nimport {Provider} from \"react-redux\";\nimport rootReducer from \"./store/rootReducer\";\n// import { getExchangeRate } from \"./api\";\n\nconst store = createStore(\n    rootReducer,\n    composeWithDevTools(applyMiddleware(thunk))\n);\n\nReactDOM.render(\n    <React.StrictMode>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </React.StrictMode>,\n    document.getElementById(`root`)\n);\n"],"sourceRoot":""}